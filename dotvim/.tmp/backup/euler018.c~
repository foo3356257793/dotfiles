#include <stdio.h>
#include <stdlib.h>

int main(){

  unsigned int heightOfTriangle = 15;
  long int** triangle = malloc(heightOfTriangle*sizeof(long int*));
  unsigned int rowIndex;
  for(rowIndex = 0; rowIndex < heightOfTriangle; rowIndex++)
    triangle[rowIndex] = malloc((rowIndex + 1)*sizeof(long int));

  FILE *file;
  file = fopen("triangle.txt", "r");
  for(rowIndex = 0; rowIndex < heightOfTriangle; rowIndex++){
    unsigned int columnIndex;
    for(columnIndex = 0; columnIndex <= rowIndex; columnIndex++){
      if (!fscanf(file, "%lu", &triangle[rowIndex][columnIndex]))
        break;
    }
  }

  foobar

  unsigned int bottomRow;
  for(bottomRow = heightOfTriangle - 1; bottomRow > 0; bottomRow--){
    unsigned int index;
    for(index = 0; index < bottomRow; index++){
      if(triangle[bottomRow][index] > triangle[bottomRow][index + 1]){
        triangle[bottomRow - 1][index] += triangle[bottomRow][index];
      }
      else{
        triangle[bottomRow - 1][index] += triangle[bottomRow][index+1];
      }
    }
    free(triangle[bottomRow]);
  }

  printf("the answer is %lu\n", triangle[0][0]);

  fclose(file);

}

