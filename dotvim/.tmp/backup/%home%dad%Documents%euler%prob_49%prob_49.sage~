#!/usr/bin/sage

def are_perms(p,q,r):

    p_arr = [c for c in str(p)]
    p_arr.sort()

    q_arr = [c for c in str(q)]
    q_arr.sort()

    if p_arr != q_arr:
        return False

    r_arr = [c for c in str(r)]
    r_arr.sort()

    return q_arr == r_arr

if __name__ == "__main__":

    primes = prime_range(10**3,10**4)

    done = False

    for i in range(len(primes)):

        p = primes[i]

        for j in range(i+1, len(primes)):

            q = primes[j]

            r = 2*q-p

            if r >= 10**4:
                break

            if is_prime(r):
                if are_perms(p,q,r):
                    if p==1487 and q==4817:
                        continue
                    done = True
                    print(p,q,r)
                    break

        if done:
            break
