#!/usr/bin/sage

if __name__ == "__main__":

    fp = open('matrix.txt', 'r')

    lines = fp.readlines()

    fp.close()

    mat = matrix(ZZ, 80, 80)

    for i in range(80):

        arr = lines[i].split(',')
        for j in range(80):

            mat[i,j] = int(arr[j])

    weight_mat = matrix(ZZ, 80, 80)
    weight_mat[0,0] = mat[0,0]

    border_points = [[weight_mat[0,0], [0,0]]]

    num_iter = 0
    max_iter = 10**5

    while len(border_points) > 0:

        border_points.sort()

        wt = border_points[0][0]
        min_pt = border_points[0][1]
        i = min_pt[0]
        j = min_pt[1]

        if i > 0 and weight_mat[i-1,j] == 0:

            weight_mat[i-1,j] = mat[i-1,j] + wt
            border_points.append([weight_mat[i-1,j], [i-1,j]])

        if j > 0 and weight_mat[i,j-1] == 0:

            weight_mat[i,j-1] = mat[i,j-1] + wt
            border_points.append([weight_mat[i,j-1], [i,j-1]])

        if i < 79 and weight_mat[i+1,j] == 0:

            weight_mat[i+1,j] = mat[i+1,j] + wt
            border_points.append([weight_mat[i+1,j], [i+1,j]])

        if j < 79 and weight_mat[i,j+1] == 0:

            weight_mat[i,j+1] = mat[i,j+1] + wt
            border_points.append([weight_mat[i,j+1], [i,j+1]])

        border_points = border_points[1:]

        num_iter += 1

        if num_iter >= max_iter:
            break


