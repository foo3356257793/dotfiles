#!/usr/bin/sage

def frac_above_val(target, d):

    #
    # want n/d < target
    # as close as possible

    # would have n = d*target at equality
    # n = ceil(d*target) does it

    n = ceil(d * target)
    if n/d == target:

        n+=1

    return n/d

if __name__ == "__main__":

    num_frac = 3

    for d in range(9,12000+1):

        val = frac_above_val(1/3,d)

        while val < 1/2:

            if denominator(val) == d:
                num_frac += 1

            val += 1/d

    print(num_frac)
