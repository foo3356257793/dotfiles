#include <flint/fmpzxx.h>
#include <flint/fmpz_matxx.h>
#include <iostream>


using std::cout;
using std::endl;

using namespace flint;

int main()
{
  cout << "Hello, world!" << endl;

  //auto my_mat = fmpz_matxx::fmpz_matxx(2,2);

  fmpzxx x, y;
   x = 7u;
   y = x*x;

   cout << x << "^2 = " << y << endl;

   #if 0
   auto my_mat = fmpz_matxx(2,2);

   my_mat.at(0,0) = 16;
   my_mat.at(1,0) = 7;
   my_mat.at(1,1) = 1;

   print_pretty(my_mat);
   #endif

   //auto foo = nmodxx_ctx(16);
   auto my_mat = nmod_matxx(1,2,16);
   auto ctx = my_mat.estimate_ctx();

   my_mat.at(0,0) = nmodxx::make_nored(7, ctx);
   my_mat.at(0,1) = nmodxx::make_nored(1, ctx);

   print_pretty(my_mat);
   cout << endl;

   //Ltuple<slong,nmod_matxx> foo = nullspace(my_mat);
   auto null_ltuple = nullspace(my_mat);

   auto rank = null_ltuple.get<0>();

   cout << rank << endl;

   auto null_basis = null_ltuple.get<1>();

   print_pretty(null_basis);
   cout << endl;

}
