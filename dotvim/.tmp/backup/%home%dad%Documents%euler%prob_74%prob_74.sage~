#!/usr/bin/sage

def sum_factorial_digits(a):

    a_str = str(a)

    return sum([factorial(int(c)) for c in a_str])

def cycle_len(a, prev_results):

    cycle = [a]

    while True:

        a = sum_factorial_digits(a)

        if a < len(prev_results) and prev_results[a] != 0:

            return len(cycle) + prev_results[a]

        if not a in cycle:
            cycle.append(a)
        else:
            return len(cycle)

if __name__ == "__main__":

    num_60 = 0
    bd = 10**6

    results = [0] * bd

    for a in range(2,bd):

        if a % 1000 == 0:
            print(a)

        results[a] = cycle_len(a,results)

        if results[a] == 60:
            num_60 += 1

    print(num_60)
