#!/usr/bin/sage

factorials = [factorial(a) for a in range(10)]

def sum_factorial_digits(a):

    S = 0

    while a > 0:

        d = a % 10
        S += factorials[d]

        a = a // 10

    return S

if __name__ == "__main__":

    n = 1

    while n*factorial(9) >= ((10**n)-1):

        n += 1

    min_val = 10
    max_val = n*factorial(9)

    ans = 0

    for a in range(min_val, max_val+1):

        if a % 10000 == 0:
            print("--- a = %d ---" % a)

        S = sum_factorial_digits(a)

        if S == a:
            print(a)
            ans += a

    print("answer:")
    print(ans)
