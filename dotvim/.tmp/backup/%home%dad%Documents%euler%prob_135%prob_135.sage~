#!/usr/bin/sage

def check_10_sol(n):

    div_n = divisors(n)

    num_divisors = len(div_n)

    if num_divisors < 10:
        return False

    num_found = 0

    for i in range(num_divisors):

        d1 = div_n[i]
        d2 = div_n[-(i+1)]

        b = (-d1+3*d2)

        if b < 0:
            continue

        if (b & 3) == 0:
            num_found += 1

            if num_found > 10:
                return False

    return num_found == 10

def print_sol(n):

    div_n = divisors(n)

    num_divisors = len(div_n)

    num_found = 0

    for i in range(num_divisors):

        d1 = div_n[i]
        d2 = div_n[-(i+1)]

        b = (-d1+3*d2)

        if b <= 0:
            continue

        if (b & 3) == 0:
            num_found += 1

            b >>= 2

            a = (d1+d2) >> 2

            print(num_found, [a,b])
            print('  ', (b+2*a)^2 - (b+a)^2 - b^2)


    return num_found == 10


if __name__ == "__main__":

    print(check_10_sol(1155))

    print_sol(1155)

    ct = 0

    for a in range(1155, 10**6):

        if check_10_sol(a):
            ct += 1

    print(ct)

    """
    bd = 10**6
    #bd = 1200

    num_sols = [0] * bd

    for f in range(1,bd-1):

        for g in range(ceil((f+1)/3),((bd-1)//f)+1):

            if ((f+g) & 3) == 0:

                num_sols[f*g] += 1

    S = 0

    for i in range(1,bd):

        if num_sols[i] == 10:
            S += 1

    print(S)
    """
