CC = gcc -std=c99 -O3 -Wall -Werror
CFLAGS = -fPIC -c
INCLUDES =
LIBS = -lgmp


all: libtestcode.so

test_code.o: test_code.c
	$(CC) -fpic -c $(INCLUDES) $+ -o $@ $(LIBS)

libtestcode.so: test_code.o
	gcc -shared -o libtestcode.so test_code.o -lgmp

#ar rcs libtestcode.so test_code.o

clean:
	rm -rf test_code.o libtestcode.so

.PHONY: clean

