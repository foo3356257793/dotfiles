_QQ_mat &_QQ_mat::translate(const std::function<void(fmpq_mat_t,fmpq_mat_t,const fmpq_t)> &fun,
    const _QQ &in){
  fun(data,data,in.data);
  return *this;
}

_QQ_mat &_QQ_mat::translate(const std::function<void(fmpq_t,fmpq_t,const fmpq_t)> &fun,
    const _QQ &in){

  for(int row=0; row<nrows(); row++){
    for(int col=0; col<ncols(); col++){
      fun((*this)[row][col].data,(*this)[row][col].data,in.data);
    }
  }

  return *this;
}

_QQ_mat &_QQ_mat::operator*=(const _QQ &in)
{
  return translate(fmpq_mat_scalar_mul_fmpq,in);
}

_QQ_mat &_QQ_mat::operator/=(const _QQ &in)
{
  return translate(fmpq_div,in);
}

