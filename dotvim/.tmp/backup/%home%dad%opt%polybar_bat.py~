#!/usr/bin/python3

import os

if __name__ == "__main__":

    bat0_energy_now = '/sys/class/power_supply/BAT0/energy_now'
    bat0_energy_full = '/sys/class/power_supply/BAT0/energy_full'

    bat1_energy_now = '/sys/class/power_supply/BAT1/energy_now'
    bat1_energy_full = '/sys/class/power_supply/BAT1/energy_full'

    fp = open(bat0_energy_now, 'r')

    line = fp.readline()

    fp.close()

    energy_now_0 = line.strip()
    energy_now_0 = float(energy_now_0)

    fp = open(bat0_energy_full, 'r')

    line = fp.readline()

    fp.close()

    energy_full_0 = line.strip()
    energy_full_0 = float(energy_full_0)

    fp = open(bat1_energy_now, 'r')

    line = fp.readline()

    fp.close()

    energy_now_1 = line.strip()
    energy_now_1 = float(energy_now_1)

    fp = open(bat1_energy_full, 'r')

    line = fp.readline()

    fp.close()

    energy_full_1 = line.strip()
    energy_full_1 = float(energy_full_1)

    energy_now = energy_now_0 + energy_now_1
    energy_full = energy_full_0 + energy_full_1

    per = round(100 * energy_now/energy_full)

    fp = open('/sys/class/power_supply/AC/online', 'r')

    line = fp.readline()

    fp.close()

    is_charging = int(line)

    if is_charging:
        print('B/%2d%% âš¡' % per)
    else:
        print('B/%2d%%  ' % per)
