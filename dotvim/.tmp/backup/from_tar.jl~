using Formatting
using Test

using BinaryProvider # requires BinaryProvider 0.3.0 or later

# Parse some basic command-line arguments
const verbose = "--verbose" in ARGS
const prefix = Prefix(get([a for a in ARGS if a != "--verbose"], 1, joinpath(@__DIR__, "usr")))
products = [
            LibraryProduct(prefix, ["libgmp"], :libgmp),
            LibraryProduct(prefix, ["libgmpxx"], :libgmpxx),
           ]

# Download binaries from hosted location
#bin_prefix = "https://github.com/JuliaBinaryWrappers/GMP_jll.jl/releases/download/GMP-v6.1.2+5"

dl_info = ("/home/dad/Downloads/for_nemo/gmp-6.2.0.tar.gz", 
"fb1fcc71ee6c66d31de4ca61b2c33513a68c848c3a3d02a502d54b081fc0fa4b")

install(dl_info...; prefix=prefix, force=true, verbose=verbose)

# Write out a deps.jl file that will contain mappings for our products
write_deps_file(joinpath(@__DIR__, "deps.jl"), products, verbose=verbose)
